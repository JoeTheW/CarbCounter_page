"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8936],{7225:(y,p,t)=>{t.d(p,{i:()=>D});var C=t(467),v=t(8581),n=t(9275),d=t(1799),h=t(4438),e=t(2038);let D=(()=>{var g;class S extends n.y{constructor(i,l,c){super(i,l),this.databaseService=i,this.loadingService=l,this.systemService=c,this.carbTotal=134,this.carbGoal=250}deleteDefaultData(){return new Promise(i=>i())}setupTableData(){this.tableName=v.jj.FOOD_LOG}setupDefaultData(i){var l=this;return(0,C.A)(function*(){return l.dataReady.next(!0),new Promise(c=>c())})()}getDailyCarbGoal(){return new Promise(i=>{this.systemService.getConfigValue(d.c.DAILY_CARB_GOAL).then(l=>{if(null!=l)return i(l);{let c=250;return this.systemService.setConfigValue(d.c.DAILY_CARB_GOAL,c),i(c)}})})}setDailyCarbGoal(i){this.systemService.setConfigValue(d.c.DAILY_CARB_GOAL,i)}}return(g=S).\u0275fac=function(i){return new(i||g)(h.KVO(v.BP),h.KVO(e.U),h.KVO(d.V))},g.\u0275prov=h.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),S})()},8936:(y,p,t)=>{t.r(p),t.d(p,{SettingsPageModule:()=>G});var C=t(177),v=t(4341),n=t(3819),d=t(9858),h=t(7144),e=t(4438),D=t(1799),g=t(529),S=t(8581),b=t(4988),i=t(2038),l=t(4569),c=t(5293),P=t(7225);const M=[{path:"",component:(()=>{var a;class u{constructor(o,s,m,r,_,E,R,j){this.systemService=o,this.messageService=s,this.databaseService=m,this.alertService=r,this.loadingService=_,this.catalogService=E,this.portionService=R,this.foodLogService=j,this.properties={appVersion:h.c.version,dbVersion:h.c.dbVersion},this.settings={carbGoal:0}}ngOnInit(){this.setup()}setup(){this.getCarbGoal()}toggleChange(o){this.systemService.toggleChange(o),this.messageService.display("Dark mode changed",3,"middle")}deleteDefaultData(){this.alertService.promptConfirmation("Confirm","are you sure you want to delete built-in app data?","no","yes").then(o=>{o&&this.databaseService.triggerDeleteDefaultData()})}restoreDefaultData(){this.alertService.promptConfirmation("Confirm","are you sure you want to restore default data back to initial app state?","no","yes").then(o=>{o&&this.databaseService.triggerRestoreDefaultData()})}getCarbGoal(){this.loadingService.addToQueue(this.foodLogService.getDailyCarbGoal().then(o=>{this.settings.carbGoal=o}))}setCarbGoal(){null!=this.settings.carbGoal&&this.settings.carbGoal>0&&this.foodLogService.setDailyCarbGoal(this.settings.carbGoal)}}return(a=u).\u0275fac=function(o){return new(o||a)(e.rXU(D.V),e.rXU(g.b),e.rXU(S.BP),e.rXU(b.u),e.rXU(i.U),e.rXU(l.H),e.rXU(c.t),e.rXU(P.i))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-settings"]],decls:42,vars:9,consts:[[3,"translucent"],["slot","start"],["size","large"],[3,"fullscreen"],[3,"inset"],["justify","space-between",3,"ngModelChange","ionChange","ngModel"],["color","danger",3,"click"],["slot","icon-only","name","trash"],["color","warning",3,"click"],["slot","icon-only","name","refresh"],["label","Daily carb goal","labelPlacement","stacked","helperText","Roughly 1/8th of your daily calorie goal","type","number",3,"ngModelChange","ionChange","ngModel"]],template:function(o,s){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title",2),e.EFF(5,"Settings"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"ion-list-header"),e.EFF(8,"Appearance"),e.k0s(),e.j41(9,"ion-list",4)(10,"ion-item")(11,"ion-toggle",5),e.mxI("ngModelChange",function(r){return e.DH7(s.systemService.darkModeToggle,r)||(s.systemService.darkModeToggle=r),r}),e.bIt("ionChange",function(r){return s.toggleChange(r)}),e.EFF(12,"Dark Mode"),e.k0s()()(),e.j41(13,"ion-list-header"),e.EFF(14,"Data"),e.k0s(),e.j41(15,"ion-list",4)(16,"ion-item")(17,"ion-label"),e.EFF(18," Delete default data "),e.j41(19,"p"),e.EFF(20,"deletes built-in data from app (including changes you have made)"),e.k0s()(),e.j41(21,"ion-button",6),e.bIt("click",function(){return s.deleteDefaultData()}),e.nrm(22,"ion-icon",7),e.k0s()(),e.j41(23,"ion-item")(24,"ion-label"),e.EFF(25," Restore default data "),e.j41(26,"p"),e.EFF(27,"restores built-in data to original app state"),e.k0s()(),e.j41(28,"ion-button",8),e.bIt("click",function(){return s.restoreDefaultData()}),e.nrm(29,"ion-icon",9),e.k0s()()(),e.j41(30,"ion-list-header"),e.EFF(31,"Personal"),e.k0s(),e.j41(32,"ion-list",4)(33,"ion-item")(34,"ion-input",10),e.mxI("ngModelChange",function(r){return e.DH7(s.settings.carbGoal,r)||(s.settings.carbGoal=r),r}),e.bIt("ionChange",function(){return s.setCarbGoal()}),e.k0s()()()(),e.j41(35,"ion-footer")(36,"ion-toolbar")(37,"ion-note"),e.EFF(38),e.k0s(),e.nrm(39,"br"),e.j41(40,"ion-note"),e.EFF(41),e.k0s()()()),2&o&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(3),e.Y8G("inset",!0),e.R7$(2),e.R50("ngModel",s.systemService.darkModeToggle),e.R7$(4),e.Y8G("inset",!0),e.R7$(17),e.Y8G("inset",!0),e.R7$(2),e.R50("ngModel",s.settings.carbGoal),e.R7$(4),e.SpI("app v",s.properties.appVersion,""),e.R7$(3),e.SpI("db v",s.properties.dbVersion,""))},dependencies:[v.BC,v.vS,n.Jm,n.QW,n.W9,n.M0,n.eU,n.iq,n.$w,n.uz,n.he,n.nf,n.AF,n.MC,n.JI,n.BC,n.BY,n.ai,n.hB,n.su]}),u})()}];let F=(()=>{var a;class u{}return(a=u).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[d.iI.forChild(M),d.iI]}),u})(),G=(()=>{var a;class u{}return(a=u).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[C.MD,v.YN,n.bv,F]}),u})()}}]);