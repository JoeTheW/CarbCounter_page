"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2518],{2518:(B,u,l)=>{l.r(u),l.d(u,{ViewEntriesPageModule:()=>O});var p=l(177),_=l(4341),i=l(3819),f=l(9858),P=l(8581),e=l(4438),E=l(7225),F=l(2038),w=l(4988),C=l(9385);let v=(()=>{var n;class a{transform(t,r=0,s="down"){return("down"===s?Math.floor:Math.ceil)(t*10**r)/10**r}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.EJ8({name:"toFixed",type:n,pure:!0}),a})();function y(n,a){if(1&n){const o=e.RV6();e.j41(0,"ion-button",6),e.bIt("click",function(){e.eBV(o);const r=e.XpG(2);return e.Njj(r.incrementPage(-1))}),e.nrm(1,"ion-icon",7),e.k0s()}}function j(n,a){if(1&n){const o=e.RV6();e.j41(0,"ion-button",6),e.bIt("click",function(){e.eBV(o);const r=e.XpG(2);return e.Njj(r.incrementPage(1))}),e.nrm(1,"ion-icon",8),e.k0s()}}function I(n,a){if(1&n&&(e.j41(0,"ion-toolbar")(1,"ion-row",1)(2,"ion-col",2),e.DNE(3,y,2,0,"ion-button",3),e.k0s(),e.j41(4,"ion-col",4)(5,"p"),e.EFF(6),e.nI1(7,"toFixed"),e.k0s()(),e.j41(8,"ion-col",5),e.DNE(9,j,2,0,"ion-button",3),e.k0s()()()),2&n){let o;const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.pageable.page-1>0),e.R7$(3),e.Lme("page ",t.pageable.page," of ",e.brH(7,4,t.pageable.totalElements?t.pageable.totalElements/t.pageable.size:t.pageable.page,0,"up"),""),e.R7$(3),e.Y8G("ngIf",(null!==(o=t.pageable.totalElements)&&void 0!==o?o:t.pageable.size)>t.pageable.page*t.pageable.size)}}let V=(()=>{var n;class a{constructor(){this.pageableChange=new e.bkB,this.onPageChanged=new e.bkB}ngOnInit(){}incrementPage(t){this.pageable.page+=t,this.pageableChange.emit(this.pageable),this.onPageChanged.emit(this.pageable)}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-paging"]],inputs:{pageable:"pageable"},outputs:{pageableChange:"pageableChange",onPageChanged:"onPageChanged"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"flex","justify-content-between"],[1,"flex","justify-content-start"],["fill","clear",3,"click",4,"ngIf"],[1,"flex","justify-content-center"],[1,"flex","justify-content-end"],["fill","clear",3,"click"],["color","medium","slot","icon-only","name","chevron-back"],["color","medium","slot","icon-only","name","chevron-forward"]],template:function(t,r){1&t&&e.DNE(0,I,10,8,"ion-toolbar",0),2&t&&e.Y8G("ngIf",r.pageable)},dependencies:[p.bT,i.Jm,i.hU,i.iq,i.ln,i.ai,v]}),a})(),R=(()=>{var n;class a{constructor(t){this.datePipe=t}transform(t,r="EE",s="dd",c="MMM, hh:mm a"){const m=this.datePipe.transform(t,c),h=this.datePipe.transform(t,s);if(!h||!m)return"";const g=parseInt(h,10);let d="th";g%10==1&&11!==g?d="st":g%10==2&&12!==g?d="nd":g%10==3&&13!==g&&(d="rd");const b=this.datePipe.transform(t,r);return b?`${b} ${g}${d} ${m}`:""}}return(n=a).\u0275fac=function(t){return new(t||n)(e.rXU(p.vh,16))},n.\u0275pipe=e.EJ8({name:"ordinalDate",type:n,pure:!0}),a})();function T(n,a){if(1&n&&(e.j41(0,"ion-row")(1,"ion-card-subtitle")(2,"strong"),e.EFF(3),e.k0s()()()),2&n){const o=e.XpG().$implicit;e.R7$(3),e.JRh(o.note)}}function $(n,a){if(1&n&&(e.j41(0,"ion-card",18)(1,"ion-card-content",19),e.nrm(2,"app-portion",20),e.k0s()()),2&n){const o=a.$implicit;e.R7$(2),e.Y8G("portionId",o)("allowDBDeletion",!1)("allowEdit",!1)}}function k(n,a){if(1&n){const o=e.RV6();e.j41(0,"ion-card",6)(1,"ion-card-header",7),e.DNE(2,T,4,1,"ion-row",8),e.j41(3,"ion-row")(4,"ion-card-subtitle"),e.EFF(5),e.nI1(6,"ordinalDate"),e.k0s()(),e.j41(7,"ion-row")(8,"ion-card-title"),e.EFF(9),e.k0s()()(),e.j41(10,"ion-card-content")(11,"ion-row")(12,"h1"),e.EFF(13),e.k0s()(),e.j41(14,"ion-row")(15,"ion-accordion-group",9)(16,"ion-accordion",10)(17,"ion-item",11)(18,"ion-card-subtitle"),e.EFF(19),e.k0s()(),e.j41(20,"div",12),e.DNE(21,$,3,3,"ion-card",13),e.k0s()()()(),e.j41(22,"ion-row")(23,"ion-col",14)(24,"div",15)(25,"ion-button",16),e.bIt("click",function(){const r=e.eBV(o).$implicit,s=e.XpG();return e.Njj(s.deleteEntry(r))}),e.nrm(26,"ion-icon",17),e.k0s()()()()()()}if(2&n){const o=a.$implicit;e.R7$(2),e.Y8G("ngIf",o.note),e.R7$(3),e.JRh(e.bMT(6,7,o.date)),e.R7$(4),e.JRh(o.name),e.R7$(4),e.SpI("Carbs: ",o.carbs,"g"),e.R7$(6),e.Lme("",o.portionIds.length," portion",o.portionIds.length>1?"s":"",""),e.R7$(2),e.Y8G("ngForOf",o.portionIds)}}const D=[{path:"",component:(()=>{var n;class a{constructor(t,r,s){this.foodLogService=t,this.loadingService=r,this.alertService=s,this.pageable={page:1,size:5}}ngOnInit(){this.loadFoodLogs()}loadFoodLogs(){this.loadingService.addToQueue(this.foodLogService.getAllOrderedByIndexPaged(P.$I.FOOD_LOG_TBL_DATE,this.pageable,"desc").then(t=>{this.foodLogs=t}))}pageChanged(t){this.loadFoodLogs()}deleteEntry(t){this.alertService.promptConfirmation("Confirm","are you sure you want to delete this entry?","no","yes").then(r=>{r&&this.loadingService.addToQueue(this.foodLogService.deleteEntityFromDB(t.id).then(()=>{this.pageChanged(this.pageable)}))})}}return(n=a).\u0275fac=function(t){return new(t||n)(e.rXU(E.i),e.rXU(F.U),e.rXU(w.u))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-view-entries"]],decls:11,vars:4,consts:[[3,"translucent"],["slot","start"],["size","large"],[3,"fullscreen"],["class","no-padding-card",4,"ngFor","ngForOf"],[3,"pageableChange","onPageChanged","pageable"],[1,"no-padding-card"],["mode","ios"],[4,"ngIf"],[1,"w-full"],["value","first"],["slot","header"],["slot","content"],["class","portion-card",4,"ngFor","ngForOf"],[1,"flex","justify-content-start"],[1,"flex","align-items-start"],["item-start","","fill","clear","color","danger",3,"click"],["slot","icon-only","name","trash"],[1,"portion-card"],[1,"no-padding"],[3,"portionId","allowDBDeletion","allowEdit"]],template:function(t,r){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title",2),e.EFF(5,"Entries"),e.k0s()()(),e.j41(6,"ion-content",3),e.DNE(7,k,27,9,"ion-card",4),e.k0s(),e.j41(8,"ion-footer")(9,"ion-toolbar")(10,"app-paging",5),e.mxI("pageableChange",function(c){return e.DH7(r.pageable,c)||(r.pageable=c),c}),e.bIt("onPageChanged",function(c){return r.pageChanged(c)}),e.k0s()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("ngForOf",r.foodLogs),e.R7$(3),e.R50("pageable",r.pageable))},dependencies:[p.Sq,p.bT,i.xk,i.YH,i.Jm,i.QW,i.b_,i.I9,i.ME,i.HW,i.tN,i.hU,i.W9,i.M0,i.eU,i.iq,i.uz,i.MC,i.ln,i.BC,i.ai,C.x,V,R]}),a})()}];let x=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.iI.forChild(D),f.iI]}),a})();var M=l(1815),G=l(4683);let O=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.MD,_.YN,i.bv,x,M.U,G.Y]}),a})()}}]);