"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8936],{8936:(R,c,a)=>{a.r(c),a.d(c,{SettingsPageModule:()=>P});var m=a(177),u=a(4341),t=a(3819),d=a(9858),h=a(7144),e=a(4438),p=a(1799),v=a(529),S=a(8581),f=a(4988),b=a(2038),C=a(4569),y=a(5293);const F=[{path:"",component:(()=>{var n;class r{constructor(i,o,l,s,D,G,j){this.systemService=i,this.messageService=o,this.databaseService=l,this.alertService=s,this.loadingService=D,this.catalogService=G,this.portionService=j,this.properties={appVersion:h.c.version,dbVersion:h.c.dbVersion},this.settings={carbGoal:0}}ngOnInit(){this.setup()}setup(){this.getCarbGoal()}toggleChange(i){this.systemService.toggleChange(i),this.messageService.display("Dark mode changed",3,"middle")}deleteDefaultData(){this.alertService.promptConfirmation("Confirm","are you sure you want to delete built-in app data?","no","yes").then(i=>{i&&this.databaseService.triggerDeleteDefaultData()})}restoreDefaultData(){this.alertService.promptConfirmation("Confirm","are you sure you want to restore default data back to initial app state?","no","yes").then(i=>{i&&this.databaseService.triggerRestoreDefaultData()})}getCarbGoal(){this.loadingService.addToQueue(this.systemService.getDailyCarbGoal().then(i=>{this.settings.carbGoal=i}))}setCarbGoal(){null!=this.settings.carbGoal&&this.settings.carbGoal>0&&this.systemService.setDailyCarbGoal(this.settings.carbGoal)}}return(n=r).\u0275fac=function(i){return new(i||n)(e.rXU(p.V),e.rXU(v.b),e.rXU(S.BP),e.rXU(f.u),e.rXU(b.U),e.rXU(C.H),e.rXU(y.t))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-settings"]],decls:42,vars:9,consts:[[3,"translucent"],["slot","start"],["size","large"],[3,"fullscreen"],[3,"inset"],["justify","space-between",3,"ngModelChange","ionChange","ngModel"],["color","danger",3,"click"],["slot","icon-only","name","trash"],["color","warning",3,"click"],["slot","icon-only","name","refresh"],["label","Daily carb goal","labelPlacement","stacked","helperText","Roughly 1/8th of your daily calorie goal","type","number",3,"ngModelChange","ionChange","ngModel"]],template:function(i,o){1&i&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title",2),e.EFF(5,"Settings"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"ion-list-header"),e.EFF(8,"Appearance"),e.k0s(),e.j41(9,"ion-list",4)(10,"ion-item")(11,"ion-toggle",5),e.mxI("ngModelChange",function(s){return e.DH7(o.systemService.darkModeToggle,s)||(o.systemService.darkModeToggle=s),s}),e.bIt("ionChange",function(s){return o.toggleChange(s)}),e.EFF(12,"Dark Mode"),e.k0s()()(),e.j41(13,"ion-list-header"),e.EFF(14,"Data"),e.k0s(),e.j41(15,"ion-list",4)(16,"ion-item")(17,"ion-label"),e.EFF(18," Delete default data "),e.j41(19,"p"),e.EFF(20,"deletes built-in data from app (including changes you have made)"),e.k0s()(),e.j41(21,"ion-button",6),e.bIt("click",function(){return o.deleteDefaultData()}),e.nrm(22,"ion-icon",7),e.k0s()(),e.j41(23,"ion-item")(24,"ion-label"),e.EFF(25," Restore default data "),e.j41(26,"p"),e.EFF(27,"restores built-in data to original app state"),e.k0s()(),e.j41(28,"ion-button",8),e.bIt("click",function(){return o.restoreDefaultData()}),e.nrm(29,"ion-icon",9),e.k0s()()(),e.j41(30,"ion-list-header"),e.EFF(31,"Personal"),e.k0s(),e.j41(32,"ion-list",4)(33,"ion-item")(34,"ion-input",10),e.mxI("ngModelChange",function(s){return e.DH7(o.settings.carbGoal,s)||(o.settings.carbGoal=s),s}),e.bIt("ionChange",function(){return o.setCarbGoal()}),e.k0s()()()(),e.j41(35,"ion-footer")(36,"ion-toolbar")(37,"ion-note"),e.EFF(38),e.k0s(),e.nrm(39,"br"),e.j41(40,"ion-note"),e.EFF(41),e.k0s()()()),2&i&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(3),e.Y8G("inset",!0),e.R7$(2),e.R50("ngModel",o.systemService.darkModeToggle),e.R7$(4),e.Y8G("inset",!0),e.R7$(17),e.Y8G("inset",!0),e.R7$(2),e.R50("ngModel",o.settings.carbGoal),e.R7$(4),e.SpI("app v",o.properties.appVersion,""),e.R7$(3),e.SpI("db v",o.properties.dbVersion,""))},dependencies:[u.BC,u.vS,t.Jm,t.QW,t.W9,t.M0,t.eU,t.iq,t.$w,t.uz,t.he,t.nf,t.AF,t.MC,t.JI,t.BC,t.BY,t.ai,t.hB,t.su]}),r})()}];let M=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[d.iI.forChild(F),d.iI]}),r})(),P=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[m.MD,u.YN,t.bv,M]}),r})()}}]);